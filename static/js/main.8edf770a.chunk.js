(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{203:function(e,n,t){e.exports=t(411)},208:function(e,n,t){},410:function(e,n,t){},411:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(6),o=t.n(c),i=(t(208),t(12)),u=t.n(i),l=t(31),s=t(33),f=(t(210),t(75)),d=t.n(f),m=t(10),p=t.n(m),v=function(e){return{flow:e.flow,name:e.name,volume:e.volume,bed:e.bed,press:e.press,start:parseInt(p()(e.start).format("x"))}},b="https://us-central1-fir-first-app-1156c.cloudfunctions.net/beds",h=function(){var e=Object(l.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()(b);case 3:if(200!==(n=e.sent).status){e.next=6;break}return e.abrupt("return",n.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,d()("".concat(b,"/bed/").concat(n));case 4:if(200!==(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("".concat(b,"/add/"),v(n));case 3:201===(t=e.sent).status&&console.log("El nuevo registro ha sido almacenado con id: "+t.data.id),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("".concat(b,"/delete/").concat(n));case 3:200===e.sent.status&&console.log("El registro ha sido eliminado "),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(n,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("".concat(b,"/update/").concat(n),v(t));case 3:201===e.sent.status&&console.log("El registro ha sido actualizado"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),y=t(200),k=function(e){return e.map((function(e,n){var t=parseInt(e.press*e.volume/e.flow/60),a=e.press*e.volume/e.flow%60,r=p()({hour:t,minute:a}).format("HH:mm"),c=p()(e.start).add(t,"hours").add(a,"minutes"),o=c.format("HH:mm");return Object(y.a)({},e,{start:p()(e.start).format("HH:mm"),duration:r,finish:o,remaining:c})}))},j=t(414),O=t(19),C=function(e){var n=e.children,t=e.type,a=e.size,c=e.onClick;return r.a.createElement(O.a,{type:t,onClick:c,size:a},n)},I=t(22),S=t(23);function H(){var e=Object(I.a)(["\n  height: 50px;\n  width: 200px;\n  color: #1890ff;\n  text-align: center;\n  line-height: 50px;\n  font-size: 24px;\n  border: solid 2px #1890ff;\n  border-radius: 5px;\n"]);return H=function(){return e},e}var z=function(){var e=Object(a.useState)(),n=Object(s.a)(e,2)[1];return Object(a.useEffect)((function(){setTimeout(n,6e4)}),[]),r.a.createElement(A,null,p()().format("LT"))},A=S.a.div(H()),F=t(412),W=function(e){var n=e.children,t=e.span,a=e.flex;return r.a.createElement(F.a,{xl:t,lg:8,md:12,xs:24,flex:a},n)},R=t(413),T=function(e){var n=e.justify,t=e.children;return r.a.createElement(R.a,{justify:n,align:"middle",gutter:[12,12]},t)},N=t(419),L=t(417),P=t(418),U=t(420),V=t(416);function _(){var e=Object(I.a)(["\n  padding: 12px;\n"]);return _=function(){return e},e}var D=function(e){var n=e.form,t=e.layout,c=e.data;return Object(a.useEffect)((function(){n.setFieldsValue({name:c?c.name:void 0,bed:c?c.bed:void 0,start:c?p()(c.start):void 0,press:c?c.press:void 0,volume:c?c.volume:void 0,flow:c?c.flow:void 0})}),[n,c]),r.a.createElement(N.a,{form:n,layout:t},r.a.createElement(q,null,r.a.createElement(T,null,r.a.createElement(W,{span:24},r.a.createElement(N.a.Item,{name:"name",label:"Nombre",valuePropName:n.name},r.a.createElement(P.a,null)))),r.a.createElement(T,{justify:"space-between"},r.a.createElement(W,{span:8},r.a.createElement(N.a.Item,{name:"bed",label:"N\xba cama",value:n.bed},r.a.createElement(U.a,null))),r.a.createElement(W,{span:16},r.a.createElement(N.a.Item,{name:"start",label:"Hora de inicio",value:n.start},r.a.createElement(V.a,{format:"HH:mm",placeholder:"Seleccione la hora"})))),r.a.createElement(T,null,r.a.createElement(W,{span:8},r.a.createElement(N.a.Item,{name:"press",label:"Presi\xf3n (bar)",value:n.press},r.a.createElement(U.a,null))),r.a.createElement(W,{span:8},r.a.createElement(N.a.Item,{name:"volume",label:"Volumen (l)",value:n.volume},r.a.createElement(U.a,null))),r.a.createElement(W,{span:8},r.a.createElement(N.a.Item,{name:"flow",label:"Caudal (m/l)",value:n.flow},r.a.createElement(U.a,null))))))},q=S.a.div(_()),B=function(e){var n=e.visible,t=e.onCreate,a=e.onUpdate,c=e.onCancel,o=e.data,i=N.a.useForm(),u=Object(s.a)(i,1)[0];return r.a.createElement(L.a,{title:"A\xf1adir paciente",visible:n,okText:o?"Actualizar":"Guardar",cancelText:"Cancelar",onCancel:c,onOk:function(){u.validateFields().then((function(e){u.resetFields(),o?a(e):t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},r.a.createElement(D,{form:u,layout:"vertical",data:o}))},J=function(e){var n=e.visible,t=e.onDelete,a=e.onCancel;return r.a.createElement(L.a,{title:"A\xf1adir paciente",visible:n,okText:"Eliminar",cancelText:"Cancelar",onCancel:a,onOk:t},"\xbfEst\xe1s seguro que quieres eliminar este registro?")},G=t(415),$=function(e,n){var t=e.name.toLowerCase(),a=n.name.toLowerCase();return t<a?-1:t>a?1:0},K=function(e,n){return e.bed-n.bed},M=function(e,n){return p()(e.start,"HH:mm").unix()-p()(n.start,"HH:mm").unix()},Q=function(e,n){var t=function(e){return p()(e.remaining,"x").format("x")};return t(e)-t(n)},X=t(421);function Y(){var e=Object(I.a)(["\n  background-color: #ff4d4f80;\n  padding: 6px;\n  border-radius: 4px;\n"]);return Y=function(){return e},e}function Z(){var e=Object(I.a)(["\n  background-color: #ffff0080;\n  padding: 6px;\n  border-radius: 4px;\n"]);return Z=function(){return e},e}function ee(){var e=Object(I.a)(["\n  background-color: #00ff0080;\n  padding: 6px;\n  border-radius: 4px;\n"]);return ee=function(){return e},e}var ne=S.a.div(ee()),te=S.a.div(Z()),ae=S.a.div(Y()),re={fontWeight:"bold",fontSize:14};function ce(){var e=Object(I.a)(["\n  margin-top: 24px;\n"]);return ce=function(){return e},e}function oe(){var e=Object(I.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return oe=function(){return e},e}var ie=function(e){var n=e.dataSource,t=e.editRecord,a=e.deleteRecord,c=[{title:"Nombre",dataIndex:"name",key:"name",sorter:$},{title:"N\xba cama",dataIndex:"bed",key:"bed",align:"center",sorter:K},{title:"Inicio",dataIndex:"start",key:"start",sorter:M},{title:"Presion (bar)",dataIndex:"press",key:"press",align:"center"},{title:"Volumen (l)",dataIndex:"volume",key:"volume",align:"center"},{title:"Caudal (l/m)",dataIndex:"flow",key:"flow",align:"center"},{title:"Duraci\xf3n (h)",dataIndex:"duration",key:"duration",align:"center"},{title:"Fin",dataIndex:"finish",key:"finish",align:"center"},{title:"Restante",dataIndex:"remaining",key:"remaining",align:"center",defaultSortOrder:"ascend",sorter:Q,render:function(e){return function(e){var n=X.a.Countdown;function t(){console.log("finished!")}var a=e-p()();return p()(a,"x")<72e5?r.a.createElement(ae,null,r.a.createElement(n,{valueStyle:re,value:e,onFinish:t})):72e5<p()(a,"x")&&p()(a,"x")<108e5?r.a.createElement(te,null,r.a.createElement(n,{valueStyle:re,value:e,onFinish:t})):p()(a,"x")>108e5?r.a.createElement(ne,null,r.a.createElement(n,{valueStyle:re,value:e,onFinish:t})):void 0}(e)}},{title:"Acciones",key:"action",align:"center",render:function(e){return r.a.createElement(ue,null,r.a.createElement(C,{type:"primary",size:"large",onClick:function(){return t(e.id)}},"Editar"),r.a.createElement(C,{type:"danger",size:"large",onClick:function(){return a(e.id)}},"Eliminar"))}}];return r.a.createElement(le,null,r.a.createElement(G.a,{dataSource:n,columns:c}),";")},ue=S.a.div(oe()),le=S.a.div(ce());function se(){var e=Object(I.a)(["\ncolor: #1890ff;\nfont-weight: bold;\nfont-size: 56px;\nline-height: 64px;\n"]);return se=function(){return e},e}function fe(){var e=Object(I.a)(["\npadding: 1rem 3rem;\n"]);return fe=function(){return e},e}var de=S.a.div(fe()),me=S.a.span(se()),pe=(t(410),function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(void 0),i=Object(s.a)(o,2),f=i[0],d=i[1],m=Object(a.useState)(void 0),p=Object(s.a)(m,2),v=p[0],b=p[1],y=Object(a.useState)(void 0),O=Object(s.a)(y,2),I=O[0],S=O[1],H=Object(a.useState)(!1),A=Object(s.a)(H,2),F=A[0],R=A[1],N=Object(a.useState)(!1),L=Object(s.a)(N,2),P=L[0],U=L[1];return Object(a.useEffect)((function(){var e=setInterval((function(){q()}),6e4);return function(){return clearInterval(e)}}),[]),Object(a.useEffect)((function(){q()}),[]),r.a.createElement(de,null,r.a.createElement(T,{justify:"end"},r.a.createElement(z,null)),r.a.createElement(j.a,null),r.a.createElement(T,{justify:"start"},r.a.createElement(W,{span:5},r.a.createElement(me,null,"Crono"))),r.a.createElement(T,{justify:"end"},r.a.createElement(C,{type:"primary",size:"large",onClick:function(){return V()}},"A\xf1adir un paciente")),r.a.createElement(B,{data:f,visible:F,onCancel:function(){return _()},onCreate:function(e){return K.apply(this,arguments)},onUpdate:function(e){return M.apply(this,arguments)}}),r.a.createElement(J,{visible:P,onCancel:function(){return D()},onDelete:function(){return Q.apply(this,arguments)}}),r.a.createElement(ie,{dataSource:t,editRecord:function(e){return $.apply(this,arguments)},deleteRecord:function(e){b(e),U(!0)}}));function V(){R(!0)}function _(){d(),R(!1)}function D(){b(void 0),U(!1)}function q(){return G.apply(this,arguments)}function G(){return(G=Object(l.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:n=e.sent,t=k(n),c(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(l.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(n),e.next=3,x(n);case 3:t=e.sent,d(t),V();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n);case 2:q(),_();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(I,n);case 2:S(void 0),d(),q(),_();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(v);case 2:q(),D();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function be(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var he=t(7),xe=t(197);o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{locale:xe.a},r.a.createElement(pe,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/oxygen_tank_crono",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/oxygen_tank_crono","/service-worker.js");ve?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):be(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):be(n,e)}))}}()}},[[203,1,2]]]);
//# sourceMappingURL=main.8edf770a.chunk.js.map