(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{207:function(e,n,t){e.exports=t(413)},212:function(e,n,t){},412:function(e,n,t){},413:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(6),o=t.n(l),c=(t(212),t(14)),i=t.n(c),u=t(33),s=t(23),d=(t(214),t(75)),f=t.n(d),m=t(10),p=t.n(m),v=function(e){return{flow:e.flow,name:e.name,volume:e.volume,bed:e.bed,press:e.press,start:parseInt(p()(e.start).format("x"))}},b="https://us-central1-fir-first-app-1156c.cloudfunctions.net/beds",E=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f()(b);case 3:if(200!==(n=e.sent).status){e.next=6;break}return e.abrupt("return",n.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,f()("".concat(b,"/bed/").concat(n));case 4:if(200!==(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(b,"/add/"),v(n));case 3:201===(t=e.sent).status&&console.log("El nuevo registro ha sido almacenado con id: "+t.data.id),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("".concat(b,"/delete/").concat(n));case 3:200===e.sent.status&&console.log("El registro ha sido eliminado "),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(i.a.mark((function e(n,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.put("".concat(b,"/update/").concat(n),v(t));case 3:201===e.sent.status&&console.log("El registro ha sido actualizado"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),w=t(203),j=function(e){return e.map((function(e,n){var t=parseInt(e.press*e.volume/e.flow/60),a=e.press*e.volume/e.flow%60,r=p()({hour:t,minute:a}).format("HH:mm"),l=p()(e.start).add(t,"hours").add(a,"minutes"),o=l.format("HH:mm");return Object(w.a)({},e,{start:p()(e.start).format("HH:mm"),duration:r,finish:o,remaining:l})}))},O=t(416),k=t(21),C=function(e){var n=e.children,t=e.type,a=e.size,l=e.onClick;return r.a.createElement(k.a,{type:t,onClick:l,size:a},n)},S=t(12),F=t(13);function I(){var e=Object(S.a)(["\n  height: 50px;\n  width: 200px;\n  color: #1890ff;\n  text-align: center;\n  line-height: 50px;\n  font-size: 24px;\n  border: solid 2px #1890ff;\n  border-radius: 5px;\n"]);return I=function(){return e},e}var z=function(){var e=Object(a.useState)(),n=Object(s.a)(e,2)[1];return Object(a.useEffect)((function(){setTimeout(n,6e4)}),[]),r.a.createElement(N,null,p()().format("LT"))},N=F.a.div(I()),A=t(414),q=function(e){var n=e.children,t=e.span,a=e.flex;return r.a.createElement(A.a,{xl:t,lg:8,md:12,xs:24,flex:a},n)},H=t(415),P=function(e){var n=e.justify,t=e.children;return r.a.createElement(H.a,{justify:n,align:"middle",gutter:[12,12]},t)},V=t(421),R=t(419),T=t(420),W=t(422),U=t(418);function B(){var e=Object(S.a)(["\n  padding: 12px;\n"]);return B=function(){return e},e}var L=function(e){var n=e.form,t=e.layout,l=e.data;return Object(a.useEffect)((function(){n.setFieldsValue({name:l?l.name:void 0,bed:l?l.bed:void 0,start:l?p()(l.start):void 0,press:l?l.press:void 0,volume:l?l.volume:void 0,flow:l?l.flow:void 0})}),[n,l]),r.a.createElement(V.a,{form:n,layout:t},r.a.createElement(D,null,r.a.createElement(P,null,r.a.createElement(q,{span:24},r.a.createElement(V.a.Item,{name:"name",label:"Nombre",valuePropName:n.name},r.a.createElement(T.a,null)))),r.a.createElement(P,{justify:"space-between"},r.a.createElement(q,{span:8},r.a.createElement(V.a.Item,{name:"bed",label:"N\xba cama",value:n.bed},r.a.createElement(W.a,null))),r.a.createElement(q,{span:16},r.a.createElement(V.a.Item,{name:"start",label:"Hora de inicio",value:n.start},r.a.createElement(U.a,{format:"HH:mm",placeholder:"Seleccione la hora"})))),r.a.createElement(P,null,r.a.createElement(q,{span:8},r.a.createElement(V.a.Item,{name:"press",label:"Presi\xf3n (bar)",value:n.press},r.a.createElement(W.a,null))),r.a.createElement(q,{span:8},r.a.createElement(V.a.Item,{name:"volume",label:"Volumen (l)",value:n.volume},r.a.createElement(W.a,null))),r.a.createElement(q,{span:8},r.a.createElement(V.a.Item,{name:"flow",label:"Caudal (m/l)",value:n.flow},r.a.createElement(W.a,null))))))},D=F.a.div(B()),_=function(e){var n=e.visible,t=e.onCreate,a=e.onUpdate,l=e.onCancel,o=e.data,c=V.a.useForm(),i=Object(s.a)(c,1)[0];return r.a.createElement(R.a,{title:"A\xf1adir paciente",visible:n,okText:o?"Actualizar":"Guardar",cancelText:"Cancelar",onCancel:l,onOk:function(){i.validateFields().then((function(e){i.resetFields(),o?a(e):t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},r.a.createElement(L,{form:i,layout:"vertical",data:o}))},J=function(e){var n=e.visible,t=e.onDelete,a=e.onCancel;return r.a.createElement(R.a,{title:"A\xf1adir paciente",visible:n,okText:"Eliminar",cancelText:"Cancelar",onCancel:a,onOk:t},"\xbfEst\xe1s seguro que quieres eliminar este registro?")},G=t(417),M=function(e,n){var t=e.name.toLowerCase(),a=n.name.toLowerCase();return t<a?-1:t>a?1:0},$=function(e,n){return e.bed-n.bed},K=function(e,n){return p()(e.start,"HH:mm").unix()-p()(n.start,"HH:mm").unix()},Q=function(e,n){var t=function(e){return p()(e.remaining,"x").format("x")};return t(e)-t(n)};function X(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return X=function(){return e},e}var Y=function(e){var n=e.currentFilterValue,t=e.onChangeFilter;return r.a.createElement(T.a,{placeholder:"Search Name",value:n,onChange:t,allowClear:!0})},Z=(F.a.div(X()),t(423));function ee(){var e=Object(S.a)(["\n  background-color: #ff4d4f80;\n  padding: 6px;\n  border-radius: 4px;\n"]);return ee=function(){return e},e}function ne(){var e=Object(S.a)(["\n  background-color: #ffff0080;\n  padding: 6px;\n  border-radius: 4px;\n"]);return ne=function(){return e},e}function te(){var e=Object(S.a)(["\n  background-color: #00ff0080;\n  padding: 6px;\n  border-radius: 4px;\n"]);return te=function(){return e},e}var ae=F.a.div(te()),re=F.a.div(ne()),le=F.a.div(ee()),oe={fontWeight:"bold",fontSize:14},ce=t(424);function ie(){var e=Object(S.a)(["\n  margin-top: 24px;\n"]);return ie=function(){return e},e}function ue(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return ue=function(){return e},e}var se=function(e){var n=e.dataSource,t=e.editRecord,a=e.deleteRecord,l=e.currentFilterValueName,o=e.onChangeFilterName,c=e.currentFilterValueBed,i=e.onChangeFilterBed,u=[{title:"Nombre",dataIndex:"name",key:"name",sorter:M,filterDropdown:r.a.createElement(Y,{onChangeFilter:o,currentFilterValue:l}),filterIcon:function(e){return r.a.createElement(ce.a,{style:{color:e?"#1890ff":void 0}})}},{title:"N\xba cama",dataIndex:"bed",key:"bed",align:"center",sorter:$,filterDropdown:r.a.createElement(Y,{onChangeFilter:i,currentFilterValue:c}),filterIcon:function(e){return r.a.createElement(ce.a,{style:{color:e?"#1890ff":void 0}})}},{title:"Inicio",dataIndex:"start",key:"start",sorter:K},{title:"Presion (bar)",dataIndex:"press",key:"press",align:"center"},{title:"Volumen (l)",dataIndex:"volume",key:"volume",align:"center"},{title:"Caudal (l/m)",dataIndex:"flow",key:"flow",align:"center"},{title:"Duraci\xf3n (h)",dataIndex:"duration",key:"duration",align:"center"},{title:"Fin",dataIndex:"finish",key:"finish",align:"center"},{title:"Restante",dataIndex:"remaining",key:"remaining",align:"center",defaultSortOrder:"ascend",sorter:Q,render:function(e){return function(e){var n=Z.a.Countdown;function t(){console.log("finished!")}var a=e-p()();return p()(a,"x")<72e5?r.a.createElement(le,null,r.a.createElement(n,{valueStyle:oe,value:e,onFinish:t})):72e5<p()(a,"x")&&p()(a,"x")<108e5?r.a.createElement(re,null,r.a.createElement(n,{valueStyle:oe,value:e,onFinish:t})):p()(a,"x")>108e5?r.a.createElement(ae,null,r.a.createElement(n,{valueStyle:oe,value:e,onFinish:t})):void 0}(e)}},{title:"Acciones",key:"action",align:"center",render:function(e){return r.a.createElement(de,null,r.a.createElement(C,{type:"primary",size:"large",onClick:function(){return t(e.id)}},"Editar"),r.a.createElement(C,{type:"danger",size:"large",onClick:function(){return a(e.id)}},"Eliminar"))}}];return r.a.createElement(fe,null,r.a.createElement(G.a,{dataSource:n,columns:u}))},de=F.a.div(ue()),fe=F.a.div(ie());function me(){var e=Object(S.a)(["\n  display: flex;\n  align-content: center;\n  padding:5px;\n  font-size: 28px;\n  font-weight: 500;\n"]);return me=function(){return e},e}function pe(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return pe=function(){return e},e}function ve(){var e=Object(S.a)(["\n  max-height: 500px;\n  padding-right: 50px;\n  overflow-y: scroll;\n"]);return ve=function(){return e},e}var be=function(e){var n=e.visible,t=e.onCancel;return r.a.createElement(R.a,{title:r.a.createElement(he,null,"Ayuda"),visible:n,footer:null,width:920,closable:!1},"El objetivo de esta aplicaci\xf3n es poder monitorizar bombones o botellas de ox\xedgeno y poder controlar el tiempo de uso de cada una. Este tiempo de uso se calcula en funci\xf3n de algunos par\xe1metros, como son, la presi\xf3n a la que quiero aplicar el ox\xedgeno, el volumen de la bombona y el caudal.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ee,null,r.a.createElement("h2",null,"\xbfC\xf3mo funciona?"),r.a.createElement("h3",null,"A\xf1adir un registro(paciente)"),r.a.createElement("ol",null,r.a.createElement("li",null,"1. Pulsar sobre bot\xf3n ",r.a.createElement("strong",null,'"A\xf1adir paciente"')," situado en la esquina superior derecha del panel principal."),r.a.createElement("li",null,"2. Se desplegar\xe1 un formulario donde debes a\xf1adir los datos para monitonizar un bombona en concreto."),r.a.createElement("li",null,"3. Recuerda introducir los datos en la unidades correctas:",r.a.createElement("ul",null,r.a.createElement("li",null,"- Unidad de presi\xf3n: ",r.a.createElement("strong",null,"bar")),r.a.createElement("li",null,"- Unidad de volumen: ",r.a.createElement("strong",null,"litros")),r.a.createElement("li",null,"- Unidad de caudal: ",r.a.createElement("strong",null,"litros/minuto"))))),r.a.createElement("h3",null,"Eliminar registro"),r.a.createElement("ol",null,r.a.createElement("li",null,"1. Pulsar sobre el bot\xf3n ",r.a.createElement("strong",null,'"Eliminar"')," del registro en concreto que quieres eliminar."),r.a.createElement("li",null,"2. Se desplegar\xe1 un model de confirmaci\xf3n."),r.a.createElement("li",null,'3. Pulsa "Eliminar"')),r.a.createElement("h3",null,"Actualizar registro registro"),r.a.createElement("ol",null,r.a.createElement("li",null,"1. Pulsar sobre el bot\xf3n ",r.a.createElement("strong",null,'"Editar"')," del registro en concreto que quieres actualizar."," "),r.a.createElement("li",null,"2. Se desplegar\xe1 de nuevo el formulario."),r.a.createElement("li",null,"3. Modifica el campo del formulario que quieras actualizar"),r.a.createElement("li",null,'4. Pulsa "Actualizar"')),r.a.createElement("h3",null,"Ordenar registros"),"Los registros esta\u0144 ordenados en funcio\u0144 del tiempo restante y en sentido ascendente por defecto. Esto quiere decir que se colocar\xe1n primero los registros cuyas bombonas o botellas de ox\xedgeno est\xe1n pr\xf3xima a acabarse. Puedes cambiar el orden de los registros por"," ",r.a.createElement("strong",null,"Nombre"),", ",r.a.createElement("strong",null,"N\xba de cama"),","," ",r.a.createElement("strong",null,"Hora de inicio")," y ",r.a.createElement("strong",null,"Tiempo restante"),", pulsando sobre el nombre del campo.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",null,"Filtrar registros"),"Existe la posibilidad de filtrar por ",r.a.createElement("strong",null,"Nombre")," y"," ",r.a.createElement("strong",null,"N\xba de cama"),". Esto nos permite buscar un registro (paciente o cama) en concreto.",r.a.createElement("br",null),"Para eso pulsa en el icono de ",r.a.createElement("strong",null,"lupa")," que existe en el nombre de los respectivos campos."),r.a.createElement(O.a,null),r.a.createElement(ge,null,r.a.createElement(C,{type:"primary",size:"large",onClick:t},"Cerrar")))},Ee=F.a.div(ve()),ge=F.a.div(pe()),he=F.a.div(me()),xe=t(425);function ye(){var e=Object(S.a)(["\n  height: 30px;\n  width: 30px;\n  margin-left: 10px;\n  color: #1890ff;\n  text-align: center;\n  font-size: 18px;\n  border: solid 2px #1890ff;\n  border-radius: 500px;\n"]);return ye=function(){return e},e}var we=function(e){var n=e.onClick;return r.a.createElement(je,{onClick:n},r.a.createElement(xe.a,null))},je=F.a.div(ye());function Oe(){var e=Object(S.a)(["\ncolor: #1890ff;\nfont-weight: bold;\nfont-size: 56px;\nline-height: 64px;\n"]);return Oe=function(){return e},e}function ke(){var e=Object(S.a)(["\npadding: 1rem 3rem;\n"]);return ke=function(){return e},e}var Ce=F.a.div(ke()),Se=F.a.span(Oe()),Fe=(t(412),function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],l=n[1],o=Object(a.useState)([]),c=Object(s.a)(o,2),d=c[0],f=c[1],m=Object(a.useState)(void 0),p=Object(s.a)(m,2),v=p[0],b=p[1],w=Object(a.useState)(void 0),k=Object(s.a)(w,2),S=k[0],F=k[1],I=Object(a.useState)(void 0),N=Object(s.a)(I,2),A=N[0],H=N[1],V=Object(a.useState)(!1),R=Object(s.a)(V,2),T=R[0],W=R[1],U=Object(a.useState)(!1),B=Object(s.a)(U,2),L=B[0],D=B[1],G=Object(a.useState)(!1),M=Object(s.a)(G,2),$=M[0],K=M[1],Q=Object(a.useState)(""),X=Object(s.a)(Q,2),Y=X[0],Z=X[1],ee=Object(a.useState)(),ne=Object(s.a)(ee,2),te=ne[0],ae=ne[1];Object(a.useEffect)((function(){var e=setInterval((function(){ce()}),6e4);return function(){return clearInterval(e)}}),[]),Object(a.useEffect)((function(){ce()}),[]),Object(a.useEffect)((function(){var e=t.filter((function(e){return e.name.includes(Y)}));f(e||t)}),[Y,t]),Object(a.useEffect)((function(){var e=t.filter((function(e){return e.bed===parseInt(te)}));e.length?f(e):f(t)}),[te,t]);return r.a.createElement(Ce,null,r.a.createElement(P,{justify:"end"},r.a.createElement(z,null),r.a.createElement(we,{onClick:function(){D(!0)}}),r.a.createElement(be,{visible:L,onCancel:function(){D(!1)}})),r.a.createElement(O.a,null),r.a.createElement(P,{justify:"start"},r.a.createElement(q,{span:5},r.a.createElement(Se,null,"Crono"))),r.a.createElement(P,{justify:"end"},r.a.createElement(C,{type:"primary",size:"large",onClick:function(){return re()}},"A\xf1adir un paciente")),r.a.createElement(_,{data:v,visible:T,onCancel:function(){return le()},onCreate:function(e){return de.apply(this,arguments)},onUpdate:function(e){return fe.apply(this,arguments)}}),r.a.createElement(J,{visible:$,onCancel:function(){return oe()},onDelete:function(){return me.apply(this,arguments)}}),r.a.createElement(se,{currentFilterValueName:Y,currentFilterValueBed:te,onChangeFilterName:function(e){Z(e.target.value)},onChangeFilterBed:function(e){ae(e.target.value)},dataSource:d,editRecord:function(e){return ue.apply(this,arguments)},deleteRecord:function(e){F(e),K(!0)}}));function re(){W(!0)}function le(){b(),W(!1)}function oe(){F(void 0),K(!1)}function ce(){return ie.apply(this,arguments)}function ie(){return(ie=Object(u.a)(i.a.mark((function e(){var n,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:n=e.sent,t=j(n),l(t),f(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(u.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(n),e.next=3,g(n);case 3:t=e.sent,b(t),re();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n);case 2:ce(),le();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){return(fe=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(A,n);case 2:H(void 0),b(),ce(),le();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(S);case 2:ce(),oe();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),Ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ze(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ne=t(7),Ae=t(200);o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{locale:Ae.a},r.a.createElement(Fe,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/oxygen_tank_crono",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/oxygen_tank_crono","/service-worker.js");Ie?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ze(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ze(n,e)}))}}()}},[[207,1,2]]]);
//# sourceMappingURL=main.40e6263e.chunk.js.map